#!/usr/bin/env bash

set -o nounset -o pipefail -o errexit
IFS=$'\t\n'

# Versions 1.22.6 through 1.22.9 are missing the `.asc`-signature key on Github
# so cannot be installed with verification.
git ls-remote --refs --tags "https://github.com/yarnpkg/yarn.git" \
| sed -E 's|^.+refs/tags/||g' \
| grep -E '^v' \
| sort --version-sort \
| sed -E 's|^v||g' \
| grep -Ev '^0\.' \
| grep -Ev '^1\.22\.[6-9]$' \
| xargs
